{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import ReactPlayer from'react-player';import screenfull from'screenfull';import'./App.scss';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[playing,setPlaying]=useState(false);const[volume,setVolume]=useState(0.5);const[boostVolume,setBoostVolume]=useState(1);const[aspectRatio,setAspectRatio]=useState('16:9');const[fullScreen,setFullScreen]=useState(false);const[muted,setMuted]=useState(false);const[fileUrl,setFileUrl]=useState('');const[folderFiles,setFolderFiles]=useState([]);const[controlVisible,setControlVisible]=useState(true);const[playbackRate,setPlaybackRate]=useState(1);const[progress,setProgress]=useState(0);const[hamburgerVisible,setHamburgerVisible]=useState(true);const[showSidebar,setShowSidebar]=useState(false);const[showFolderPopup,setShowFolderPopup]=useState(false);const[showSettingsPopup,setShowSettingsPopup]=useState(false);const[selectedFolderPath,setSelectedFolderPath]=useState(null);const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const[showSlider,setShowSlider]=useState(false);const playerRef=useRef(null);const containerRef=useRef(null);const audioContextRef=useRef(null);const gainNodeRef=useRef(null);const controlTimeout=useRef(null);const hamburgerTimeout=useRef(null);useEffect(()=>{// Initialize Web Audio API\naudioContextRef.current=new(window.AudioContext||window.webkitAudioContext)();gainNodeRef.current=audioContextRef.current.createGain();gainNodeRef.current.gain.value=1;// Default to 1x volume\n// Auto-hide controls after 5 seconds of inactivity\nconst resetControlTimeout=()=>{if(controlTimeout.current)clearTimeout(controlTimeout.current);setControlVisible(true);controlTimeout.current=setTimeout(()=>{setControlVisible(false);setShowSidebar(false);},5000);};document.addEventListener('mousemove',resetControlTimeout);document.addEventListener('keydown',resetControlTimeout);// Hide hamburger after 5 seconds of inactivity\nconst resetHamburgerTimeout=()=>{if(hamburgerTimeout.current)clearTimeout(hamburgerTimeout.current);setHamburgerVisible(true);hamburgerTimeout.current=setTimeout(()=>setHamburgerVisible(false),5000);};document.addEventListener('mousemove',resetHamburgerTimeout);document.addEventListener('keydown',resetHamburgerTimeout);return()=>{document.removeEventListener('mousemove',resetControlTimeout);document.removeEventListener('keydown',resetControlTimeout);document.removeEventListener('mousemove',resetHamburgerTimeout);document.removeEventListener('keydown',resetHamburgerTimeout);};},[]);// Mute toggle\nconst handleMute=()=>{setMuted(!muted);};useEffect(()=>{if(muted==true){setVolume(0);}},[muted]);const increaseVolume=()=>{setVolume(prevVolume=>Math.min(prevVolume+0.1,1));};const decreaseVolume=()=>{setVolume(prevVolume=>Math.max(prevVolume-0.1,0));};useEffect(()=>{const handleKeyDown=event=>{switch(event.code){case'Space':// Spacebar for Play/Pause\nhandlePlayPause();event.preventDefault();// Prevent default behavior (like page scrolling)\nbreak;case'KeyM':handleMute();break;case'ArrowRight':// Right arrow for forward 10 seconds\nhandleSeekwithbtn(10);break;case'ArrowLeft':// Left arrow for backward 10 seconds\nhandleSeekwithbtn(-10);break;case'ArrowUp':// Up arrow to increase volume\nincreaseVolume();break;case'ArrowDown':// Down arrow to decrease volume\ndecreaseVolume();break;default:break;}};window.addEventListener('keydown',handleKeyDown);// Clean up event listener on component unmount\nreturn()=>{window.removeEventListener('keydown',handleKeyDown);};},[playing,volume,progress]);const connectAudioNode=()=>{if(playerRef.current&&playerRef.current.getInternalPlayer()){const audioSource=audioContextRef.current.createMediaElementSource(playerRef.current.getInternalPlayer());audioSource.connect(gainNodeRef.current).connect(audioContextRef.current.destination);}};const handlePlayPause=()=>{setPlaying(!playing);};const handleVolumeChange=e=>{const newVolume=parseFloat(e.target.value);setVolume(newVolume);gainNodeRef.current.gain.value=newVolume*boostVolume;};const handleBoostVolume=()=>{const newBoost=boostVolume>=2?1:boostVolume+0.5;setBoostVolume(newBoost);gainNodeRef.current.gain.value=volume*newBoost;};const handleAspectRatio=ratio=>{setAspectRatio(ratio);};const handleFullScreen=()=>{if(screenfull.isEnabled){screenfull.toggle(containerRef.current);}setFullScreen(!fullScreen);};const handleFileChange=e=>{const file=e.target.files[0];if(file){const url=URL.createObjectURL(file);setFileUrl(url);setPlaying(true);// Start playing immediately after loading the file\nextractSubtitles(file);// Close the file popup\n}};const handleFolderChange=async e=>{const files=Array.from(e.target.files);const videoFiles=files;setFolderFiles(videoFiles);setSelectedFolderPath(e.target.files[0].webkitRelativePath.split('/')[0]);setShowFolderPopup(true);// Show the folder popup\n};const handleDuration=duration=>{setDuration(duration);};const handleFileSelect=file=>{const url=URL.createObjectURL(file);setFileUrl(url);setPlaying(true);setShowFolderPopup(false);// Close the folder popup on selection\n};const handleProgressChange=played=>{setProgress(played.played*100);setCurrentTime(playerRef.current.getCurrentTime());};const formatTime=seconds=>{const minutes=Math.floor(seconds/60);const secs=Math.floor(seconds%60);return`${minutes}:${secs<10?'0':''}${secs}`;};const handleSeekwithbtn=amount=>{const currentTime=playerRef.current.getCurrentTime();playerRef.current.seekTo(currentTime+amount,'seconds');};const handleSeek=e=>{const seekTo=e.target.value/100*playerRef.current.getDuration();playerRef.current.seekTo(seekTo,'seconds');setProgress(e.target.value);};const handlePlaybackRate=rate=>{setPlaybackRate(rate);if(playerRef.current){playerRef.current.getInternalPlayer().playbackRate=rate;}};const extractSubtitles=file=>{const video=document.createElement('video');video.src=URL.createObjectURL(file);video.onloadedmetadata=()=>{const tracks=[];for(let i=0;i<video.textTracks.length;i++){tracks.push({label:video.textTracks[i].label||`Subtitle ${i+1}`,index:i});}// setSubtitleTracks(tracks);\n// setSelectedSubtitle(tracks[0].index); // Default to the first subtitle\n// if (tracks.length > 0) {\n//   video.textTracks[0].mode = 'showing'; // Show first subtitle\n// }\n};};const handleSubtitleChange=e=>{const selectedTrackIndex=parseInt(e.target.value,10);// setSelectedSubtitle(selectedTrackIndex);\n// Show selected subtitle and hide others\nconst video=playerRef.current.getInternalPlayer();for(let i=0;i<video.textTracks.length;i++){video.textTracks[i].mode=i===selectedTrackIndex?'showing':'disabled';}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stars\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"}),/*#__PURE__*/_jsx(\"div\",{className:\"star\"})]}),/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"video-player-container\",onMouseMove:()=>setControlVisible(true),children:[hamburgerVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"hamburger-menu\",onClick:()=>setShowSidebar(!showSidebar),children:\"\\u2630\"}),showSidebar&&/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>document.getElementById('singleFileInput').click(),children:\"Open File\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>document.getElementById('folderInput').click(),children:\"Open Folder\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setShowSettingsPopup(true),children:\"Settings\"}),selectedFolderPath&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"white\"},children:[\"Selected Folder: \",/*#__PURE__*/_jsx(\"span\",{className:\"redpill btn\",onClick:()=>{setShowFolderPopup(true);},children:selectedFolderPath})]})]}),/*#__PURE__*/_jsx(\"input\",{id:\"singleFileInput\",style:{display:'none'},type:\"file\",accept:\"video/*\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"folderInput\",directory:\"\",webkitdirectory:\"\",style:{display:'none'},onChange:handleFolderChange}),showFolderPopup&&/*#__PURE__*/_jsxs(\"div\",{className:\"folder-popup\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>{setShowFolderPopup(false);},children:\"X\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Size\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Modified\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:folderFiles.sort((a,b)=>a.name.localeCompare(b.name)).map((file,index)=>/*#__PURE__*/_jsxs(\"tr\",{onDoubleClick:()=>handleFileSelect(file),children:[/*#__PURE__*/_jsx(\"td\",{children:file.name}),/*#__PURE__*/_jsx(\"td\",{children:file.type}),/*#__PURE__*/_jsxs(\"td\",{children:[(file.size/(1024*1024)).toFixed(2),\" MB\"]}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(file.lastModified),'dd/MM/yyyy')})]},index))})]})]}),showSettingsPopup&&/*#__PURE__*/_jsxs(\"div\",{className:\"settings-popup\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:()=>setShowSettingsPopup(false),children:\"X\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Settings\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Theme Color:\"})]}),/*#__PURE__*/_jsx(ReactPlayer,{id:\"vifs\",ref:playerRef,url:fileUrl,playing:playing,controls:false,volume:muted?0:volume,onProgress:handleProgressChange,onDuration:handleDuration,height:aspectRatio==='16:9'?'75%':aspectRatio==='4:3'?'100%':'100%',playbackRate:playbackRate,width:\"100%\"}),controlVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pillname cardw\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"chin\",children:formatTime(currentTime)}),/*#__PURE__*/_jsx(\"input\",{className:\"range chin\",type:\"range\",min:\"0\",max:\"100\",value:progress,onChange:handleSeek}),/*#__PURE__*/_jsx(\"p\",{className:\"chin\",children:formatTime(duration)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pillname\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handlePlayPause,children:playing?'‚è∏':\"‚èµ\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handleAspectRatio('16:9'),children:\"16:9\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handleAspectRatio('4:3'),children:\"4:3\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:handleBoostVolume,children:[\"Boost Volume (\",boostVolume,\"x)\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleFullScreen,children:fullScreen?'‚õ∂':'‚á±'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handlePlaybackRate(1),children:\"1x\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handlePlaybackRate(1.5),children:\"1.5x\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handlePlaybackRate(2),children:\"2x\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"volume-container\",onMouseEnter:()=>setShowSlider(true),onMouseLeave:()=>setShowSlider(false),children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn speaker-icon\",onClick:handleMute,children:muted?'üîá':'üîä'}),showSlider&&/*#__PURE__*/_jsxs(\"div\",{className:\"volume-slider\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\"},children:(volume*100).toFixed(0)}),/*#__PURE__*/_jsx(\"input\",{className:\"extrarange\",type:\"range\",min:\"0\",max:\"1\",step:\"0.01\",value:volume,onChange:handleVolumeChange})]})]})]})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactPlayer","screenfull","format","jsx","_jsx","jsxs","_jsxs","App","playing","setPlaying","volume","setVolume","boostVolume","setBoostVolume","aspectRatio","setAspectRatio","fullScreen","setFullScreen","muted","setMuted","fileUrl","setFileUrl","folderFiles","setFolderFiles","controlVisible","setControlVisible","playbackRate","setPlaybackRate","progress","setProgress","hamburgerVisible","setHamburgerVisible","showSidebar","setShowSidebar","showFolderPopup","setShowFolderPopup","showSettingsPopup","setShowSettingsPopup","selectedFolderPath","setSelectedFolderPath","currentTime","setCurrentTime","duration","setDuration","showSlider","setShowSlider","playerRef","containerRef","audioContextRef","gainNodeRef","controlTimeout","hamburgerTimeout","current","window","AudioContext","webkitAudioContext","createGain","gain","value","resetControlTimeout","clearTimeout","setTimeout","document","addEventListener","resetHamburgerTimeout","removeEventListener","handleMute","increaseVolume","prevVolume","Math","min","decreaseVolume","max","handleKeyDown","event","code","handlePlayPause","preventDefault","handleSeekwithbtn","connectAudioNode","getInternalPlayer","audioSource","createMediaElementSource","connect","destination","handleVolumeChange","e","newVolume","parseFloat","target","handleBoostVolume","newBoost","handleAspectRatio","ratio","handleFullScreen","isEnabled","toggle","handleFileChange","file","files","url","URL","createObjectURL","extractSubtitles","handleFolderChange","Array","from","videoFiles","webkitRelativePath","split","handleDuration","handleFileSelect","handleProgressChange","played","getCurrentTime","formatTime","seconds","minutes","floor","secs","amount","seekTo","handleSeek","getDuration","handlePlaybackRate","rate","video","createElement","src","onloadedmetadata","tracks","i","textTracks","length","push","label","index","handleSubtitleChange","selectedTrackIndex","parseInt","mode","children","className","ref","onMouseMove","onClick","getElementById","click","style","color","id","display","type","accept","onChange","directory","webkitdirectory","sort","a","b","name","localeCompare","map","onDoubleClick","size","toFixed","Date","lastModified","controls","onProgress","onDuration","height","width","onMouseEnter","onMouseLeave","fontWeight","step"],"sources":["/Users/omkar/Documents/unified resources/mvp/gdrive link opener/video-player-app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\nimport screenfull from 'screenfull';\nimport './App.scss';\nimport { format } from 'date-fns';\n\nconst App = () => {\n  const [playing, setPlaying] = useState(false);\n  const [volume, setVolume] = useState(0.5);\n  const [boostVolume, setBoostVolume] = useState(1);\n  const [aspectRatio, setAspectRatio] = useState('16:9');\n  const [fullScreen, setFullScreen] = useState(false);\n  const [muted, setMuted] = useState(false);\n  const [fileUrl, setFileUrl] = useState('');\n  const [folderFiles, setFolderFiles] = useState([]);\n  const [controlVisible, setControlVisible] = useState(true);\n  const [playbackRate, setPlaybackRate] = useState(1);\n  const [progress, setProgress] = useState(0);\n  const [hamburgerVisible, setHamburgerVisible] = useState(true);\n  const [showSidebar, setShowSidebar] = useState(false);\n  const [showFolderPopup, setShowFolderPopup] = useState(false);\n  const [showSettingsPopup, setShowSettingsPopup] = useState(false);\n  const [selectedFolderPath, setSelectedFolderPath] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [showSlider, setShowSlider] = useState(false);\n\n\n  const playerRef = useRef(null);\n  const containerRef = useRef(null);\n  const audioContextRef = useRef(null);\n  const gainNodeRef = useRef(null);\n  const controlTimeout = useRef(null);\n  const hamburgerTimeout = useRef(null);\n\n  useEffect(() => {\n    // Initialize Web Audio API\n    audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n    gainNodeRef.current = audioContextRef.current.createGain();\n    gainNodeRef.current.gain.value = 1; // Default to 1x volume\n\n    // Auto-hide controls after 5 seconds of inactivity\n    const resetControlTimeout = () => {\n      if (controlTimeout.current) clearTimeout(controlTimeout.current);\n      setControlVisible(true);\n      controlTimeout.current = setTimeout(() => { setControlVisible(false); setShowSidebar(false); }, 5000);\n    };\n\n    document.addEventListener('mousemove', resetControlTimeout);\n    document.addEventListener('keydown', resetControlTimeout);\n\n    // Hide hamburger after 5 seconds of inactivity\n    const resetHamburgerTimeout = () => {\n      if (hamburgerTimeout.current) clearTimeout(hamburgerTimeout.current);\n      setHamburgerVisible(true);\n\n      hamburgerTimeout.current = setTimeout(() => setHamburgerVisible(false), 5000);\n    };\n\n    document.addEventListener('mousemove', resetHamburgerTimeout);\n    document.addEventListener('keydown', resetHamburgerTimeout);\n\n    return () => {\n      document.removeEventListener('mousemove', resetControlTimeout);\n      document.removeEventListener('keydown', resetControlTimeout);\n      document.removeEventListener('mousemove', resetHamburgerTimeout);\n      document.removeEventListener('keydown', resetHamburgerTimeout);\n    };\n  }, []);\n\n  // Mute toggle\n  const handleMute = () => {\n    setMuted(!muted);\n  };\n  useEffect(() => {\n    if (muted == true) {\n      setVolume(0);\n    }\n  }, [muted])\n\n  const increaseVolume = () => {\n    setVolume((prevVolume) => Math.min(prevVolume + 0.1, 1));\n  };\n\n  const decreaseVolume = () => {\n    setVolume((prevVolume) => Math.max(prevVolume - 0.1, 0));\n  };\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      switch (event.code) {\n        case 'Space': // Spacebar for Play/Pause\n          handlePlayPause();\n          event.preventDefault(); // Prevent default behavior (like page scrolling)\n          break;\n        case 'KeyM':\n          handleMute();\n          break;\n        case 'ArrowRight': // Right arrow for forward 10 seconds\n          handleSeekwithbtn(10);\n          break;\n        case 'ArrowLeft': // Left arrow for backward 10 seconds\n          handleSeekwithbtn(-10);\n          break;\n        case 'ArrowUp': // Up arrow to increase volume\n          increaseVolume();\n          break;\n        case 'ArrowDown': // Down arrow to decrease volume\n          decreaseVolume();\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    // Clean up event listener on component unmount\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [playing, volume, progress]);\n\n  const connectAudioNode = () => {\n    if (playerRef.current && playerRef.current.getInternalPlayer()) {\n      const audioSource = audioContextRef.current.createMediaElementSource(playerRef.current.getInternalPlayer());\n      audioSource.connect(gainNodeRef.current).connect(audioContextRef.current.destination);\n    }\n  };\n\n  const handlePlayPause = () => {\n    setPlaying(!playing);\n  };\n\n  const handleVolumeChange = (e) => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    gainNodeRef.current.gain.value = newVolume * boostVolume;\n  };\n\n  const handleBoostVolume = () => {\n    const newBoost = boostVolume >= 2 ? 1 : boostVolume + 0.5;\n    setBoostVolume(newBoost);\n    gainNodeRef.current.gain.value = volume * newBoost;\n  };\n\n  const handleAspectRatio = (ratio) => {\n    setAspectRatio(ratio);\n  };\n\n  const handleFullScreen = () => {\n    if (screenfull.isEnabled) {\n      screenfull.toggle(containerRef.current);\n    }\n    setFullScreen(!fullScreen);\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const url = URL.createObjectURL(file);\n      setFileUrl(url);\n      setPlaying(true); // Start playing immediately after loading the file\n      extractSubtitles(file); // Close the file popup\n    }\n  };\n\n  const handleFolderChange = async (e) => {\n    const files = Array.from(e.target.files);\n    const videoFiles = files;\n    setFolderFiles(videoFiles);\n    setSelectedFolderPath(e.target.files[0].webkitRelativePath.split('/')[0]);\n    setShowFolderPopup(true); // Show the folder popup\n  };\n  const handleDuration = (duration) => {\n    setDuration(duration);\n  };\n\n  const handleFileSelect = (file) => {\n    const url = URL.createObjectURL(file);\n    setFileUrl(url);\n    setPlaying(true);\n    setShowFolderPopup(false); // Close the folder popup on selection\n  };\n\n  const handleProgressChange = (played) => {\n    setProgress(played.played * 100);\n    setCurrentTime(playerRef.current.getCurrentTime());\n  };\n  const formatTime = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  const handleSeekwithbtn = (amount) => {\n    const currentTime = playerRef.current.getCurrentTime();\n    playerRef.current.seekTo(currentTime + amount, 'seconds');\n  };\n\n  const handleSeek = (e) => {\n    const seekTo = (e.target.value / 100) * playerRef.current.getDuration();\n    playerRef.current.seekTo(seekTo, 'seconds');\n    setProgress(e.target.value);\n  };\n\n  const handlePlaybackRate = (rate) => {\n    setPlaybackRate(rate);\n    if (playerRef.current) {\n      playerRef.current.getInternalPlayer().playbackRate = rate;\n    }\n  };\n\n  const extractSubtitles = (file) => {\n    const video = document.createElement('video');\n    video.src = URL.createObjectURL(file);\n\n    video.onloadedmetadata = () => {\n      const tracks = [];\n      for (let i = 0; i < video.textTracks.length; i++) {\n        tracks.push({\n          label: video.textTracks[i].label || `Subtitle ${i + 1}`,\n          index: i\n        });\n      }\n      // setSubtitleTracks(tracks);\n      // setSelectedSubtitle(tracks[0].index); // Default to the first subtitle\n      // if (tracks.length > 0) {\n      //   video.textTracks[0].mode = 'showing'; // Show first subtitle\n      // }\n    };\n  };\n\n  const handleSubtitleChange = (e) => {\n    const selectedTrackIndex = parseInt(e.target.value, 10);\n    // setSelectedSubtitle(selectedTrackIndex);\n\n    // Show selected subtitle and hide others\n    const video = playerRef.current.getInternalPlayer();\n    for (let i = 0; i < video.textTracks.length; i++) {\n      video.textTracks[i].mode = i === selectedTrackIndex ? 'showing' : 'disabled';\n    }\n  };\n\n\n  return (\n    <div>\n      <div className=\"stars\">\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n        <div className=\"star\"></div>\n      </div>\n      <div ref={containerRef} className=\"video-player-container\" onMouseMove={() => setControlVisible(true)}>\n        {/* Hamburger Menu */}\n        {hamburgerVisible && (\n          <div className=\"hamburger-menu\" onClick={() => setShowSidebar(!showSidebar)}>\n            ‚ò∞\n          </div>\n        )}\n\n        {showSidebar && (\n          <div className=\"sidebar\">\n            <button className='btn' onClick={() => document.getElementById('singleFileInput').click()}>Open File</button>\n            <button className='btn' onClick={() => document.getElementById('folderInput').click()}>Open Folder</button>\n            <button className='btn' onClick={() => setShowSettingsPopup(true)}>Settings</button>\n            {selectedFolderPath && <p style={{ color: \"white\" }} >Selected Folder: <span className='redpill btn' onClick={() => { setShowFolderPopup(true) }}>{selectedFolderPath}</span></p>}\n          </div>\n        )}\n\n        {/* File Picker */}\n        <input id=\"singleFileInput\" style={{ display: 'none' }} type=\"file\" accept=\"video/*\" onChange={handleFileChange} />\n\n        {/* Folder Picker */}\n        <input\n          type=\"file\"\n          id=\"folderInput\"\n          directory=\"\"\n          webkitdirectory=\"\"\n          style={{ display: 'none' }}\n          onChange={handleFolderChange}\n        />\n        {showFolderPopup && (\n          <div className=\"folder-popup\">\n            <div onClick={() => { setShowFolderPopup(false) }}>X</div>\n            <table>\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Type</th>\n                  <th>Size</th>\n                  <th>Date Modified</th>\n                </tr>\n              </thead>\n              <tbody>\n                {folderFiles\n                  .sort((a, b) => a.name.localeCompare(b.name))\n                  .map((file, index) => (\n                    <tr key={index} onDoubleClick={() => handleFileSelect(file)}>\n                      <td>{file.name}</td>\n                      <td>{file.type}</td>\n                      <td>{(file.size / (1024 * 1024)).toFixed(2)} MB</td>\n                      <td>{format(new Date(file.lastModified), 'dd/MM/yyyy')}</td>\n                    </tr>\n                  ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n        {showSettingsPopup && (\n          <div className=\"settings-popup\">\n            <p onClick={() => setShowSettingsPopup(false)}>X</p>\n            <h3>Settings</h3>\n            <label>Theme Color:</label>\n          </div>\n        )}\n        <ReactPlayer\n          id=\"vifs\"\n          ref={playerRef}\n          url={fileUrl}\n          playing={playing}\n          controls={false}\n          volume={muted ? 0 : volume}\n          onProgress={handleProgressChange}\n          onDuration={handleDuration}\n          height={aspectRatio === '16:9' ? '75%' : aspectRatio === '4:3' ? '100%' : '100%'}\n          playbackRate={playbackRate}\n          width=\"100%\"\n        />\n        {controlVisible && (\n          <div className=\"controls\">\n            <div className='pillname cardw'>\n              <p className='chin'>{formatTime(currentTime)}</p>\n              <input className='range chin' type=\"range\" min=\"0\" max=\"100\" value={progress} onChange={handleSeek} />\n              <p className='chin'>{formatTime(duration)}</p>\n            </div>\n            <div className='pillname'>\n              <button className='btn' onClick={handlePlayPause}>{playing ? '‚è∏' : \"‚èµ\"}</button>\n              <button className='btn' onClick={() => handleAspectRatio('16:9')}>16:9</button>\n              <button className='btn' onClick={() => handleAspectRatio('4:3')}>4:3</button>\n\n              <button className='btn' onClick={handleBoostVolume}>Boost Volume ({boostVolume}x)</button>\n              <button className='btn' onClick={handleFullScreen}>{fullScreen ? '‚õ∂' : '‚á±'}</button>\n              <button className='btn' onClick={() => handlePlaybackRate(1)}>1x</button>\n              <button className='btn' onClick={() => handlePlaybackRate(1.5)}>1.5x</button>\n              <button className='btn' onClick={() => handlePlaybackRate(2)}>2x</button>\n              <div\n                className=\"volume-container\"\n                onMouseEnter={() => setShowSlider(true)}\n                onMouseLeave={() => setShowSlider(false)}\n              >\n                <button className='btn speaker-icon' onClick={handleMute}>{muted ? 'üîá' : 'üîä'}</button>\n                {showSlider && (\n                  <div className=\"volume-slider\">\n                    <span style={{ fontWeight: \"bold\" }}>{(volume * 100).toFixed(0)}</span>\n                    <input className='extrarange'\n                      type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={volume} onChange={handleVolumeChange}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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CpBzI,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MAAM,CAAM,CAAC,cAC5B1I,IAAA,QAAK0I,SAAS,CAAC,MA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}